# å¼€å‘å‘½ä»¤è¯´æ˜

## ğŸ”„ dev è„šæœ¬é…ç½®å˜æ›´

### å½“å‰é…ç½®
```json
"dev": "next dev"
```

### æ™ºèƒ½å¯åŠ¨é…ç½®
```json
"smart-dev": "bash scripts/smart-dev.sh"
```

## ğŸ¯ é…ç½®è¯´æ˜

### 1. **æ ‡å‡†å¼€å‘æ¨¡å¼**
- `pnpm dev` ä½¿ç”¨æ ‡å‡†çš„ Next.js å¼€å‘æœåŠ¡å™¨
- ç®€å•ç›´æ¥ï¼Œç¬¦åˆ Next.js é¡¹ç›®æ ‡å‡†
- é€‚åˆå¤§å¤šæ•°å¼€å‘åœºæ™¯

### 2. **æ™ºèƒ½å¼€å‘æ¨¡å¼**
- `pnpm run smart-dev` ä½¿ç”¨æ™ºèƒ½å¯åŠ¨è„šæœ¬
- åŒ…å«é¢å¤–çš„ä¼˜åŒ–åŠŸèƒ½å’Œç¯å¢ƒæ£€æµ‹
- è‡ªåŠ¨ç«¯å£ç®¡ç†å’Œå†²çªæ£€æµ‹
- æ›´å¥½çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è¾“å‡º

### 3. **çµæ´»é€‰æ‹©**
- å¼€å‘è€…å¯æ ¹æ®éœ€è¦é€‰æ‹©ä¸åŒçš„å¯åŠ¨æ–¹å¼
- ä¿æŒäº†å¤šç§å¯åŠ¨é€‰é¡¹çš„å…¼å®¹æ€§
- æ”¯æŒä¸­æ–‡å‘½ä»¤ï¼ˆ`pnpm run å¼€å‘`ï¼‰

## ğŸ“‹ æ‰€æœ‰å¯åŠ¨æ–¹å¼

```bash
# æ ‡å‡†æ–¹å¼ï¼ˆæ¨èï¼‰
pnpm dev
pnpm run dev

# æ™ºèƒ½å¯åŠ¨æ–¹å¼
pnpm run smart-dev

# åˆ«åæ–¹å¼
pnpm run serve
pnpm run å¼€å‘
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **åŒ…ç®¡ç†å™¨æ£€æŸ¥**: é¡¹ç›®é…ç½®äº† `preinstall` é’©å­ï¼Œå¼ºåˆ¶ä½¿ç”¨ pnpm
2. **ç«¯å£ç®¡ç†**: å¦‚æœ 3000 ç«¯å£è¢«å ç”¨ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†
3. **ç¯å¢ƒæ£€æŸ¥**: å¯åŠ¨å‰ä¼šè¿›è¡Œå¿…è¦çš„ç¯å¢ƒæ£€æŸ¥

## ğŸ§ª å¼€å‘å‘½ä»¤é…ç½®æµ‹è¯•

### æ–°å¢åŠŸèƒ½
ä¸ºäº†ç¡®ä¿å¼€å‘å‘½ä»¤é…ç½®çš„æ­£ç¡®æ€§ï¼Œé¡¹ç›®æ–°å¢äº†é…ç½®æµ‹è¯•åŠŸèƒ½ï¼š

```bash
# æµ‹è¯•å¼€å‘å‘½ä»¤é…ç½®
pnpm run test-dev-config
```

### æµ‹è¯•å†…å®¹
- éªŒè¯devè„šæœ¬æ˜¯å¦æ­£ç¡®é…ç½®ä¸ºä½¿ç”¨smart-dev.sh
- æ£€æŸ¥smart-dev.shè„šæœ¬æ˜¯å¦å­˜åœ¨å’Œå¯æ‰§è¡Œ
- ç¡®è®¤æ‰€æœ‰å¼€å‘å‘½ä»¤éƒ½æŒ‡å‘æ™ºèƒ½å¯åŠ¨è„šæœ¬
- æä¾›é…ç½®é—®é¢˜çš„è¯Šæ–­å’Œä¿®å¤å»ºè®®

## ğŸ”„ npm åˆ«åè®¾ç½®

### æ–°å¢åŠŸèƒ½
ä¸ºäº†æ–¹ä¾¿ä¹ æƒ¯ä½¿ç”¨ npm å‘½ä»¤çš„å¼€å‘è€…ï¼Œé¡¹ç›®æ–°å¢äº†è‡ªåŠ¨åˆ«åè®¾ç½®åŠŸèƒ½ï¼š

```bash
# è®¾ç½®npmåˆ°pnpmçš„åˆ«å
pnpm run setup-npm-alias
```

### è®¾ç½®æ•ˆæœ
è®¾ç½®åï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥ npm å‘½ä»¤ä¼šè‡ªåŠ¨è½¬æ¢ä¸º pnpmï¼š
- `npm install` â†’ `pnpm install`
- `npm run dev` â†’ `pnpm run dev`
- `npm run build` â†’ `pnpm run build`

### ä½¿ç”¨åœºæ™¯
- å›¢é˜Ÿæˆå‘˜ä¹ æƒ¯ä½¿ç”¨ npm å‘½ä»¤
- é¿å…å› è¯¯ç”¨ npm å¯¼è‡´çš„åŒ…ç®¡ç†å™¨å†²çª
- æä¾›æ›´å‹å¥½çš„å¼€å‘ä½“éªŒ

## ğŸ› ï¸ æ•…éšœæ’é™¤

å¦‚æœå¯åŠ¨å¤±è´¥ï¼Œå¯ä»¥å°è¯•ï¼š
```bash
# æ£€æŸ¥ç«¯å£çŠ¶æ€
pnpm run port-status

# æ€æ­»å ç”¨ç«¯å£çš„è¿›ç¨‹
pnpm run port-kill

# é¡¹ç›®å¥åº·æ£€æŸ¥
pnpm run health-check

# æµ‹è¯•å¼€å‘å‘½ä»¤é…ç½®
pnpm run test-dev-config

# è®¾ç½®npmåˆ«åï¼ˆå¦‚æœéœ€è¦ï¼‰
pnpm run setup-npm-alias
```