---
inclusion: always
---

# 任务执行策略

## 连续执行规则

当执行 Spec 任务时，遵循以下策略：

### 任务失败处理
1. **记录失败原因**: 详细记录错误信息到 dev.log
2. **尝试自动修复**: 对于常见错误（如语法错误、导入问题），尝试自动修复
3. **继续下一任务**: 如果当前任务无法修复，标记为失败并继续下一个任务
4. **状态更新**: 及时更新 tasks.md 中的任务状态

### 任务链执行
1. **批量执行**: 一次性执行多个相关任务
2. **依赖检查**: 执行前检查任务依赖关系
3. **进度报告**: 每完成一个任务提供进度更新
4. **错误隔离**: 单个任务失败不影响整个任务链

### 中断恢复
1. **状态保存**: 执行过程中保存中间状态
2. **断点续传**: 从上次中断的地方继续执行
3. **环境检查**: 恢复前检查环境和依赖状态
4. **数据一致性**: 确保中断恢复不影响数据完整性

## 执行优先级

1. **高优先级**: 修复阻塞性错误
2. **中优先级**: 完成核心功能任务
3. **低优先级**: 优化和文档任务

## 自动化触发条件

- 任务执行失败时自动尝试恢复
- 检测到相关文件变更时重新执行相关任务
- 定期检查任务状态并继续未完成任务